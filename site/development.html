<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-svg lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]><html class="no-svg lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]><html class="no-svg lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--><html lang="en"><!--<![endif]-->

<head>

	<meta charset="utf-8">
	
	<title>WSU Serverbase development guide | Washington State University</title>
	
	<!-- FAVICON -->
	<link rel="shortcut icon" href="//repo.wsu.edu/spine/1/favicon.ico" />
	
	<!-- STYLESHEETS -->
	<link href="//repo.wsu.edu/spine/1/spine.min.css" rel="stylesheet" type="text/css" />
	<!-- Your custom stylesheets here -->
	<link href="/WSU-Web-Serverbase/site/stylesheets/git_styles.css" rel="stylesheet" type="text/css" />
	<!-- RESPOND -->
	<meta name="viewport" content="width=device-width, user-scalable=yes">
	
	<!-- SCRIPTS -->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
	<script src="//repo.wsu.edu/spine/1/spine.min.js"></script>
	<!-- Your supplementary scripts here (jQuery Mobile, modernizr, site specific scripts, etcetera) -->
	
	<!-- COMPATIBILITY -->
	<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<noscript><style>#spine #spine-sitenav ul ul li { display: block !important; }</style></noscript>
	
	<!-- DOCS -->
	<link type="text/plain" rel="author" href="http://repo.wsu.edu/spine/1/authors.txt">
	<link type="text/html" rel="help" href="http://brand.wsu.edu">
	
	<!-- ANALYTICS -->
	<base href="http://washingtonstateuniversity.github.io/WSU-Web-Serverbase/"/>
</head><body>
	<!-- WRAPPING -->
	<div id="jacket">
		<div id="binder" class="fluid max-1782 xlarge">
			<!-- CONTENT -->
			<main>
			<!-- Responsive Sections -->
			<section class="row side-right gutter pad short">
			
				<div class="column one">
					<article class="wrapper markdown-body">
					<h1 id="wsu-serverbase-development-guide">WSU Serverbase development guide</h1>
<h2 id="what-is-this-for-">What is this for?</h2>
<p>This project is used in aiding your development and web design tasks. To achieve this result of a simple get up and running environment, we use <a href="http://www.vagrantup.com/">Vagrant</a> along with a <a href="http://www.saltstack.com/">Salt</a> provisioner to set up the local server and deploy the web apps.  You have the option to edit the <code>Vagrantfile</code>, it is highly suggested to not alter the file in any way.  To set options for  <code>Vagrant</code> there are properties located in the <code>config.json</code>.  From this <code>config.json</code> you may load up any of the pre-configured apps, adjust the way vagrant is run, and which environments are loaded with <code>Salt</code>. </p>
<h3 id="vagrant-options">Vagrant options</h3>
<p>At the top of the <code>config.json</code>, which is a json file, you have some options that you may use to change your environment that you are loading.</p>
<pre><code class="lang-json">{
    &quot;webserver&quot;: {                            //Name of the server being set up
        &quot;ip&quot;:&quot;10.255.255.2&quot;,                  //ip of the VirturalBox
        &quot;branch&quot;:&quot;master&quot;,                    //the git branch to use (optional)
        &quot;owner&quot;:&quot;washingtonstateuniversity&quot;,  //the git owner to use (optional)
        &quot;open_ports&quot;:&quot;&quot;,                      //ports to open up for multi server setups
        &quot;hostname&quot;:&quot;web_server&quot;,              //name of the host
        &quot;memory&quot;:&quot;6144&quot;,                      //How much memory would you like to share from your host
        &quot;cores&quot;:&quot;2&quot;,                          //How many processor from the host do you want to share
        &quot;host_64bit&quot;:&quot;false&quot;,                 //If you are on windows and are sharing more then 2 cores set to true
        &quot;install_type&quot;:&quot;testing&quot;,             //Type of install
        &quot;minion&quot;:&quot;vagrant&quot;,                   //Which Salt minion to run
        &quot;verbose_output&quot;:&quot;true&quot;,              //How much do you want to see in the console
    }
}
</code></pre>
<h4 id="-ip-"><code>ip</code></h4>
<p>Set the ip of the virtual server&#39;s IP address.  Use a IPv4 (0.0.0.0) that can be navigated to.</p>
<h4 id="-branch-"><code>branch</code></h4>
<p>Sets the git branch to use for the server base.</p>
<h4 id="-owner-"><code>owner</code></h4>
<p>Sets the git owner to use for the server base.</p>
<h4 id="-open_ports-"><code>open_ports</code></h4>
<p>Setting ports to open up for multi server setups.  If you want to have two server talk to each other then you can set ports to talk through.</p>
<h4 id="-hostname-"><code>hostname</code></h4>
<p>Set the hostname used</p>
<h4 id="-memory-"><code>memory</code></h4>
<p>Set memory used from you host.  It is suggested that you use no more than 50% of you host ram.</p>
<h4 id="-cores-"><code>cores</code></h4>
<p>Set CPU cores used from you host.  It is suggested that you use no more than 50% of you host&#39;s cores.</p>
<h4 id="-host_64bit-"><code>host_64bit</code></h4>
<p>If you are on windows and are sharing more than 2 cores set to true.</p>
<h4 id="-install_type-"><code>install_type</code></h4>
<p>Type of install</p>
<h4 id="-minion-"><code>minion</code></h4>
<p>The minion to use</p>
<h4 id="-verbose_output-"><code>verbose_output</code></h4>
<p>Setting the verbose_output option will set the amount of information output to the console</p>
<h3 id="how-to-add-a-web-app-">How to add a web app?</h3>
<p>Loading a web app is very straight forward.  You define the app in the config file and the system will do the rest for you.  Look to the smaple for the <code>Magento</code> app set up.  The baiscs of the current process is that you define a app blocks you wish to load.  In the next version the app block will be much simplar and allow for more power.  Currently you&#39;ll define the app you want to load like this</p>
<pre><code class="lang-json">        &quot;apps&quot;: {
            &quot;store.wsu.edu&quot;: {
                &quot;repo&quot;:&quot;https://github.com/washingtonstateuniversity/WSUMAGE-base.git&quot;,
                &quot;repoid&quot;:&quot;washingtonstateuniversity/WSUMAGE-base&quot;,
                &quot;database_host&quot;:&quot;10.255.255.3&quot;,
                &quot;hosts&quot;:[
                    &quot;store.mage.dev&quot;,
                    &quot;events.store.mage.dev&quot;,
                    &quot;student.store.mage.dev&quot;,
                    &quot;general.store.mage.dev&quot;,
                    &quot;store.admin.mage.dev&quot;,
                    &quot;tech.store.mage.dev&quot;
                ]
            }
        }
</code></pre>
<h2 id="sample-working-file">Sample working file</h2>
<p>This is the file used by the main repo maintainer for general development of the <code>Magento</code> app for WSU.</p>
<pre><code class="lang-json">{
    &quot;web_server&quot;: {
        &quot;ip&quot;:&quot;2&quot;,
        &quot;branch&quot;:&quot;ssl_updates&quot;,
        &quot;owner&quot;:&quot;jeremyBass&quot;,
        &quot;open_ports&quot;:&quot;&quot;,
        &quot;hostname&quot;:&quot;web_server&quot;,
        &quot;memory&quot;:&quot;16000&quot;,
        &quot;vram&quot;:&quot;8&quot;,
        &quot;cores&quot;:&quot;4&quot;,
        &quot;host_64bit&quot;:&quot;true&quot;,
        &quot;install_type&quot;:&quot;testing&quot;,
        &quot;minion&quot;:&quot;vagrant&quot;,
        &quot;verbose_output&quot;:&quot;true&quot;,
        &quot;remote_env&quot;:[
            &quot;serverbase&quot;,
            &quot;database&quot;,
            &quot;security&quot;,
            &quot;web&quot;,
            &quot;webcaching&quot;
        ],
        &quot;local_env&quot;:[
            &quot;serverbase&quot;,
            &quot;database&quot;,
            &quot;security&quot;,
            &quot;web&quot;,
            &quot;webcaching&quot;
        ],
        &quot;shared_folders&quot;:{
            &quot;/var/app&quot;:{
                &quot;dest&quot;:&quot;/var/app&quot;,
                &quot;from&quot;:&quot;app&quot;,
                &quot;user&quot;:&quot;uid=510,gid=510&quot;,
                &quot;dmode&quot;:&quot;dmode=775&quot;,
                &quot;fmode&quot;:&quot;fmode=774&quot;
            }
        },
        &quot;apps&quot;: {
            &quot;store.wsu.edu&quot;: {
                &quot;repo&quot;:&quot;-b master https://github.com/jeremyBass/WSUMAGE-base.git&quot;,
                &quot;repoid&quot;:&quot;jeremyBass/WSUMAGE-base&quot;,
                &quot;database_host&quot;:&quot;10.255.255.3&quot;,
                &quot;hosts&quot;:[
                    &quot;store.mage.dev&quot;,
                    &quot;events.store.mage.dev&quot;,
                    &quot;student.store.mage.dev&quot;,
                    &quot;general.store.mage.dev&quot;,
                    &quot;store.admin.mage.dev&quot;,
                    &quot;tech.store.mage.dev&quot;
                ]
            }
        }
    }
}
</code></pre>
<p><strong>Note:</strong> More to come. Thank you for reading.</p>

</article>
				</div><!--/column-->
			
				<div class="column two">
					<aside>
						<section>
						<h2 id="download-this-project">Download this project</h2>
<ul>
<li><a href="https://github.com/washingtonstateuniversity/WSU-Web-Serverbase">View On GitHub</a></li>
<li><a href="https://github.com/washingtonstateuniversity/WSU-Web-Serverbase/zipball/master">Download ZIP</a></li>
<li><a href="https://github.com/washingtonstateuniversity/WSU-Web-Serverbase/tarball/master">Download TAR</a></li>
</ul>
<p>This project is maintained by <a href="https://github.com/washingtonstateuniversity">Washington State University</a>.  If you have found an issue please report it in the <a href="https://github.com/washingtonstateuniversity/WSU-Web-Serverbase/issues">repo issue list</a>.  </p>

</section>
					</aside>
				</div><!--/column-->
			</section>
			</main>
			<!-- /CONTENT -->
				<!-- SPINE -->
	<div id="spine" class="shelved bleed crimson">
		<div id="glue" class="spine-glue">
		
			<header class="spine-header">
				<a href="http://www.wsu.edu/" id="wsu-signature" class="spine-signature">Washington State University</a>
			</header>
			
			<!-- ACTIONS -->
			<section id="wsu-actions" class="spine-actions">
				<!-- Tabs -->
				<ul id="wsu-actions-tabs" class="spine-actions-tabs clearfix">
					<!--<li id="wsu-search-tab" class="spine-search-tab closed"><button>Search</button></li>
					This will be taken out for the mean time, but will add it back in later.
					-->
					<li id="wsu-contact-tab" class="spine-contact-tab closed"><button>Contact</button></li>
					<li id="wsu-share-tab" class="spine-share-tab closed"><button>Share</button></li>
					<li id="wsu-print-tab" class="spine-print-tab closed"><button>Print</button></li>
				</ul>
			</section><!--/#wsu-actions-->
	
			<nav id="spine-navigation" class="spine-navigation">
				<nav id="spine-sitenav" class="spine-sitenav">
					<ul>
				
					
						<li><a href="" >WSU Serverbase</a></li>
					
					
						<li>
						
							
								<a href="site/development.html" class="active" >Development</a>
								<ul>
							
							
								<li><a href="site/development.html#vagrant-options">Vagrant Options</a></li>
							
							
								<li><a href="site/development.html#how-to-add-a-web-app-">Load Web Apps</a></li>
							
							
								<li><a href="site/development.html#sample-working-file">Sample Config</a></li>
							
								</ul>
							</li>
					
					
						<li><a href="site/production.html" >Production</a></li>
					
					
						<li><a href="site/troubleshooting.html" >Trouble Shooting</a></li>
					</ul>
				</nav>
				<nav id="spine-offsitenav" class="spine-offsitenav">
					<ul>
						<li><a href="//washingtonstateuniversity.github.io/WSUMAGE-base/">WSU Magento deployment</a></li>
					</ul>
				</nav>
			</nav><!-- #navigation -->
	
			<!-- Social and Global Links -->
			<footer class="spine-footer">
				<!--<nav id="wsu-social-channels" class="spine-social-channels">
					<ul>
						<li id="facebook"><a href="http://facebook.com/wsupullman">Facebook</a></li>
						<li id="twitter"><a href="http://twitter.com/wsupullman">Twitter</a></li>
						<li id="youtube"><a href="http://www.youtube.com/washingtonstateuniv">YouTube</a></li>
						<li id="directory"><a href="http://social.wsu.edu">Social</a></li>
					</ul>
				</nav>-->
				<nav id="wsu-global-links" class="spine-global-links">
					<ul>
						<li id="zzusis"><a href="http://zzusis.wsu.edu/">Zzu<strong>sis</strong></a></li>
						<li id="access"><a href="http://access.wsu.edu/">Access</a></li>
						<li id="policies"><a href="http://policies.wsu.edu/">Policies</a></li>
						<li id="copyright"><a href="http://copyright.wsu.edu">&nbsp;&copy;</a></li>
					</ul>
				</nav>	
				<!-- <small id="copyright"><a href="http://copyright.wsu.edu">&copy; Washington State University</a></small> -->
			</footer>
	
		</div><!--/glue-->
	</div><!--/spine-->
	<!-- /SPINE -->
</div><!--/cover-->
	</div><!--/jacket-->
	<!-- /WRAPPING -->
	<!--[if !IE]><script>fixScale(document);</script><![endif]-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41835019-1', 'auto');
  ga('send', 'pageview');

</script></body>
</html>